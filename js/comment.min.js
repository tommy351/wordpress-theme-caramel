!function(t){var n,e,r,o;n=t("#commentform"),e=t("#comment"),o=e[0],r=function(t,n){var e,r,i,l;return null==n&&(n=""),null!=o.selectionStart&&null!=o.selectionEnd?(i=o.selectionStart,r=o.selectionEnd,e=r,l=o.value,o.value=[l.substring(0,i),t,l.substring(i,r),n,l.substring(r,l.length)].join(""),e+=t.length,i!==r&&(e+=n.length),o.selectionStart=o.selectionEnd=e):void 0},n.on("focus","input",function(){return t(this).parent().addClass("focus")}).on("blur","input",function(){return t(this).parent().removeClass("focus")}).on("keyup","input",function(){return t(this).val()?t(this).parent().addClass("unblank"):t(this).parent().removeClass("unblank")}),t("#comments").on("click",".comment-quote-link",function(){var n,e,o,i,l;return e=t(this),n=e.parentsUntil("#comment-list").last(),l=n.attr("id"),o=n.find(".comment-author").html(),i=n.find(".article-entry").html(),r('<blockquote cite="#'+l+'"><a href="#'+l+'">'+o+"</a>: \n"+i+"</blockquote>")}).on("click",".comment-reply-link",function(){var n,e,o,i;return e=t(this),n=e.parentsUntil("#comment-list").last(),i=n.attr("id"),o=n.find(".comment-author").html(),r('<a href="#'+i+'">@'+o+"</a> ")}).on("click",".comment-form-link",function(){var n,e;switch(t(this).data("cmd")){case"bold":return r("<strong>","</strong>");case"italic":return r("<em>","</em>");case"delete":return r("<del>","</del>");case"link":if(e=prompt("URL:"))return r('<a href="'+e+'">',"</a>");break;case"quote":return r("<blockquote>","</blockquote>");case"image":if(e=prompt("URL:"))return n=prompt("Title:"),r(n?'<img src="'+e+'" alt="'+n+'">':'<img src="'+e+'">');break;case"code":return r("<pre>","</pre>")}}),t("#cancel-comment-reply-link").on("click",function(){return e.val("")})}(jQuery);